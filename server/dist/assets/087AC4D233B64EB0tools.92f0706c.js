/*! 
 Build based on gin-vue-admin 
 Time : 1718874130000 */
import{ae as e,m as a,u as l,av as r,a as o,r as t,T as s,o as n,h as d,w as u,a2 as i,b as c,b6 as m,d as p,g as h,c as f,O as b,P as B,t as v,e as k,E as g,ad as C,n as y,G as w,cU as E,J as j}from"./087AC4D233B64EB0index.f7794d3b.js";/* empty css                                *//* empty css                               */import D from"./087AC4D233B64EB0index.07cd994e.js";import{E as A}from"./087AC4D233B64EB0dialog.eb147687.js";import"./087AC4D233B64EB0overlay.ee491930.js";/* empty css                               */import{E as _}from"./087AC4D233B64EB0index.180a68c4.js";import"./087AC4D233B64EB0drawer.178042b4.js";/* empty css                            *//* empty css                              */import"./087AC4D233B64EB0input-number.d6620c63.js";import"./087AC4D233B64EB0index.50b81e49.js";import"./087AC4D233B64EB0switch.060d4277.js";import"./087AC4D233B64EB0position.541e0bb6.js";import"./087AC4D233B64EB0index.21f2f826.js";import"./087AC4D233B64EB0debounce.9b1e718d.js";import"./087AC4D233B64EB0index.18ebb74e.js";const x={key:0,class:"quick-title"},O=["onClick"],T={class:"dialog-footer"},q=Object.assign({name:"CommandMenu"},{__name:"index",setup(C,{expose:y}){const w=e(),E=a(),j=l(),D=l(),_=r(),q=o(!1),M=o(""),S=t([]),U=e=>{const a=[];return e.forEach((e=>{e.children&&e.children.length>0?a.push(...U(e.children)):e.meta.title&&e.meta.title.indexOf(M.value)>-1&&a.push({label:e.meta.title,func:()=>I(e)})})),a},V=()=>{const e={label:"跳转",children:[]},a=U(_.asyncRouters[0].children);e.children.push(...a),S.push(e)},L=()=>{const e={label:"操作",children:[]},a=[{label:"亮色主题",func:()=>R("light")},{label:"暗色主题",func:()=>R("dark")},{label:"退出登录",func:()=>E.LoginOut()}];e.children.push(...a.filter((e=>e.label.indexOf(M.value)>-1))),S.push(e)};V(),L();const I=e=>{var a,l;const r=e.name,o={},t={};(null==(a=_.routeMap[r])?void 0:a.parameters)&&(null==(l=_.routeMap[r])||l.parameters.forEach((e=>{"query"===e.type?o[e.key]=e.value:t[e.key]=e.value}))),r!==D.name&&(e.name.indexOf("http://")>-1||e.name.indexOf("https://")>-1?window.open(e.name):j.push({name:r,query:o,params:t}),q.value=!1)},R=e=>{null!==e?w.toggleTheme(!0):w.toggleTheme(!1)},G=()=>{q.value=!1};return y({open:()=>{q.value=!0}}),s(M,(()=>{S.length=0,V(),L()})),(e,a)=>{const l=g,r=A;return n(),d(r,{modelValue:q.value,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value=e),width:"30%",class:"overlay","show-close":!1},{header:u((()=>[i(c("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>M.value=e),class:"quick-input",placeholder:"请输入你需要快捷到达的功能"},null,512),[[m,M.value]])])),footer:u((()=>[c("span",T,[p(l,{onClick:G},{default:u((()=>[h("关闭")])),_:1})])])),default:u((()=>[(n(!0),f(b,null,B(S,((e,a)=>(n(),f("div",{key:a},[e.children.length?(n(),f("div",x,v(e.label),1)):k("",!0),(n(!0),f(b,null,B(e.children,((e,l)=>(n(),f("div",{key:a+"-"+l,class:"quick-item",onClick:e.func},v(e.label),9,O)))),128))])))),128))])),_:1},8,["modelValue"])}}}),M={class:"flex items-center mx-4 gap-4"},S={__name:"tools",setup(a){const l=e(),r=o(!1),t=o(!1),s=()=>{t.value=!0,E.emit("reload"),setTimeout((()=>{t.value=!1}),1e3)},i=()=>{r.value=!0},c=o(""),m=o(),h=()=>{m.value.open()};return(()=>{"WIN"===window.localStorage.getItem("osType")?c.value="Ctrl":c.value="⌘";window.addEventListener("keydown",(e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),h())}))})(),(e,a)=>{const o=C("Search"),c=j,b=_,B=C("Setting"),v=C("Refresh"),k=C("Sunny"),g=C("Moon");return n(),f("div",M,[p(b,{class:"",effect:"dark",content:"搜索",placement:"bottom"},{default:u((()=>[p(c,{onClick:h,class:"w-8 h-8 shadow rounded-full border border-gray-200 dark:border-gray-600 cursor-pointer border-solid"},{default:u((()=>[p(o)])),_:1})])),_:1}),p(b,{class:"",effect:"dark",content:"系统设置",placement:"bottom"},{default:u((()=>[p(c,{class:"w-8 h-8 shadow rounded-full border border-gray-200 dark:border-gray-600 cursor-pointer border-solid",onClick:i},{default:u((()=>[p(B)])),_:1})])),_:1}),p(b,{class:"",effect:"dark",content:"刷新",placement:"bottom"},{default:u((()=>[p(c,{class:y(["w-8 h-8 shadow rounded-full border border-gray-200 dark:border-gray-600 cursor-pointer border-solid",t.value?"animate-spin":""]),onClick:s},{default:u((()=>[p(v)])),_:1},8,["class"])])),_:1}),p(b,{class:"",effect:"dark",content:"切换主题",placement:"bottom",disabled:"auto"===w(l).theme},{default:u((()=>["dark"===w(l).theme?(n(),d(c,{key:0,class:"w-8 h-8 shadow rounded-full border border-gray-600 cursor-pointer border-solid",onClick:a[0]||(a[0]=e=>w(l).toggleTheme(!1))},{default:u((()=>[p(k)])),_:1})):(n(),d(c,{key:1,class:"w-8 h-8 shadow rounded-full border border-gray-200 cursor-pointer border-solid",onClick:a[1]||(a[1]=e=>w(l).toggleTheme(!0))},{default:u((()=>[p(g)])),_:1}))])),_:1},8,["disabled"]),p(D,{drawer:r.value,"onUpdate:drawer":a[2]||(a[2]=e=>r.value=e)},null,8,["drawer"]),p(q,{ref_key:"command",ref:m},null,512)])}}};export{S as default};
